{"version":3,"file":"index.js","sources":["node_modules/fl-assert/dist/assert.js","src/GMap.js","src/index.js"],"sourcesContent":["// Bug checking function that will throw an error whenever\n// the condition sent to it is evaluated to false\n/**\n * Processes the message and outputs the correct message if the condition\n * is false. Otherwise it outputs null.\n * @api private\n * @method processCondition\n * @param  {Boolean} condition - Result of the evaluated condition\n * @param  {String} errorMessage - Message explainig the error in case it is thrown\n * @return {String | null}  - Error message if there is an error, nul otherwise.\n */\nfunction processCondition(condition, errorMessage) {\n  if (!condition) {\n    var completeErrorMessage = '';\n    var re = /at ([^\\s]+)\\s\\(/g;\n    var stackTrace = new Error().stack;\n    var stackFunctions = [];\n\n    var funcName = re.exec(stackTrace);\n    while (funcName && funcName[1]) {\n      stackFunctions.push(funcName[1]);\n      funcName = re.exec(stackTrace);\n    }\n\n    // Number 0 is processCondition itself,\n    // Number 1 is assert,\n    // Number 2 is the caller function.\n    if (stackFunctions[2]) {\n      completeErrorMessage = stackFunctions[2] + ': ' + completeErrorMessage;\n    }\n\n    completeErrorMessage += errorMessage;\n    return completeErrorMessage;\n  }\n\n  return null;\n}\n\n/**\n * Throws an error if the boolean passed to it evaluates to false.\n * To be used like this:\n * \t\tassert(myDate !== undefined, \"Date cannot be undefined.\");\n * @api public\n * @method assert\n * @param  {Boolean} condition - Result of the evaluated condition\n * @param  {String} errorMessage - Message explainig the error in case it is thrown\n * @return void\n */\nfunction assert(condition, errorMessage) {\n  var error = processCondition(condition, errorMessage);\n  if (typeof error === 'string') {\n    throw new Error(error);\n  }\n}\n\n/**\n * Logs a warning if the boolean passed to it evaluates to false.\n * To be used like this:\n * \t\tassert.warn(myDate !== undefined, \"No date provided.\");\n * @api public\n * @method warn\n * @param  {Boolean} condition - Result of the evaluated condition\n * @param  {String} errorMessage - Message explainig the error in case it is thrown\n * @return void\n */\nassert.warn = function warn(condition, errorMessage) {\n  var error = processCondition(condition, errorMessage);\n  if (typeof error === 'string') {\n    console.warn(error);\n  }\n};\n\nexport default assert;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhc3NlcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQnVnIGNoZWNraW5nIGZ1bmN0aW9uIHRoYXQgd2lsbCB0aHJvdyBhbiBlcnJvciB3aGVuZXZlclxuLy8gdGhlIGNvbmRpdGlvbiBzZW50IHRvIGl0IGlzIGV2YWx1YXRlZCB0byBmYWxzZVxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIG1lc3NhZ2UgYW5kIG91dHB1dHMgdGhlIGNvcnJlY3QgbWVzc2FnZSBpZiB0aGUgY29uZGl0aW9uXG4gKiBpcyBmYWxzZS4gT3RoZXJ3aXNlIGl0IG91dHB1dHMgbnVsbC5cbiAqIEBhcGkgcHJpdmF0ZVxuICogQG1ldGhvZCBwcm9jZXNzQ29uZGl0aW9uXG4gKiBAcGFyYW0gIHtCb29sZWFufSBjb25kaXRpb24gLSBSZXN1bHQgb2YgdGhlIGV2YWx1YXRlZCBjb25kaXRpb25cbiAqIEBwYXJhbSAge1N0cmluZ30gZXJyb3JNZXNzYWdlIC0gTWVzc2FnZSBleHBsYWluaWcgdGhlIGVycm9yIGluIGNhc2UgaXQgaXMgdGhyb3duXG4gKiBAcmV0dXJuIHtTdHJpbmcgfCBudWxsfSAgLSBFcnJvciBtZXNzYWdlIGlmIHRoZXJlIGlzIGFuIGVycm9yLCBudWwgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBwcm9jZXNzQ29uZGl0aW9uKGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgbGV0IGNvbXBsZXRlRXJyb3JNZXNzYWdlID0gJyc7XG4gICAgY29uc3QgcmUgPSAvYXQgKFteXFxzXSspXFxzXFwoL2c7XG4gICAgY29uc3Qgc3RhY2tUcmFjZSA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgIGNvbnN0IHN0YWNrRnVuY3Rpb25zID0gW107XG5cbiAgICBsZXQgZnVuY05hbWUgPSByZS5leGVjKHN0YWNrVHJhY2UpO1xuICAgIHdoaWxlIChmdW5jTmFtZSAmJiBmdW5jTmFtZVsxXSkge1xuICAgICAgc3RhY2tGdW5jdGlvbnMucHVzaChmdW5jTmFtZVsxXSk7XG4gICAgICBmdW5jTmFtZSA9IHJlLmV4ZWMoc3RhY2tUcmFjZSk7XG4gICAgfVxuXG4gICAgLy8gTnVtYmVyIDAgaXMgcHJvY2Vzc0NvbmRpdGlvbiBpdHNlbGYsXG4gICAgLy8gTnVtYmVyIDEgaXMgYXNzZXJ0LFxuICAgIC8vIE51bWJlciAyIGlzIHRoZSBjYWxsZXIgZnVuY3Rpb24uXG4gICAgaWYgKHN0YWNrRnVuY3Rpb25zWzJdKSB7XG4gICAgICBjb21wbGV0ZUVycm9yTWVzc2FnZSA9IGAke3N0YWNrRnVuY3Rpb25zWzJdfTogJHtjb21wbGV0ZUVycm9yTWVzc2FnZX1gO1xuICAgIH1cblxuICAgIGNvbXBsZXRlRXJyb3JNZXNzYWdlICs9IGVycm9yTWVzc2FnZTtcbiAgICByZXR1cm4gY29tcGxldGVFcnJvck1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGJvb2xlYW4gcGFzc2VkIHRvIGl0IGV2YWx1YXRlcyB0byBmYWxzZS5cbiAqIFRvIGJlIHVzZWQgbGlrZSB0aGlzOlxuICogXHRcdGFzc2VydChteURhdGUgIT09IHVuZGVmaW5lZCwgXCJEYXRlIGNhbm5vdCBiZSB1bmRlZmluZWQuXCIpO1xuICogQGFwaSBwdWJsaWNcbiAqIEBtZXRob2QgYXNzZXJ0XG4gKiBAcGFyYW0gIHtCb29sZWFufSBjb25kaXRpb24gLSBSZXN1bHQgb2YgdGhlIGV2YWx1YXRlZCBjb25kaXRpb25cbiAqIEBwYXJhbSAge1N0cmluZ30gZXJyb3JNZXNzYWdlIC0gTWVzc2FnZSBleHBsYWluaWcgdGhlIGVycm9yIGluIGNhc2UgaXQgaXMgdGhyb3duXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKSB7XG4gIGNvbnN0IGVycm9yID0gcHJvY2Vzc0NvbmRpdGlvbihjb25kaXRpb24sIGVycm9yTWVzc2FnZSk7XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIExvZ3MgYSB3YXJuaW5nIGlmIHRoZSBib29sZWFuIHBhc3NlZCB0byBpdCBldmFsdWF0ZXMgdG8gZmFsc2UuXG4gKiBUbyBiZSB1c2VkIGxpa2UgdGhpczpcbiAqIFx0XHRhc3NlcnQud2FybihteURhdGUgIT09IHVuZGVmaW5lZCwgXCJObyBkYXRlIHByb3ZpZGVkLlwiKTtcbiAqIEBhcGkgcHVibGljXG4gKiBAbWV0aG9kIHdhcm5cbiAqIEBwYXJhbSAge0Jvb2xlYW59IGNvbmRpdGlvbiAtIFJlc3VsdCBvZiB0aGUgZXZhbHVhdGVkIGNvbmRpdGlvblxuICogQHBhcmFtICB7U3RyaW5nfSBlcnJvck1lc3NhZ2UgLSBNZXNzYWdlIGV4cGxhaW5pZyB0aGUgZXJyb3IgaW4gY2FzZSBpdCBpcyB0aHJvd25cbiAqIEByZXR1cm4gdm9pZFxuICovXG5hc3NlcnQud2FybiA9IGZ1bmN0aW9uIHdhcm4oY29uZGl0aW9uLCBlcnJvck1lc3NhZ2UpIHtcbiAgY29uc3QgZXJyb3IgPSBwcm9jZXNzQ29uZGl0aW9uKGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKTtcbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3NlcnQ7XG4iXSwiZmlsZSI6ImFzc2VydC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n","// Google API Methods\nimport assert from 'fl-assert';\nimport { get } from 'lodash/fp';\nconst geocodingUrl = 'https://maps.googleapis.com/maps/api/geocode/json';\n\nexport default function GMap(google) {\n  const DEFAULTS = {\n    apiKey: 'AIzaSyACR9XwTnLLG11mr2ncrIgR7vwAlAzBK08',\n    mapOptions: {\n      center: { lat: 51.473663, lng: -0.203287 },\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      zoom: 10,\n      scrollwheel: false,\n      maxZoom: 17,\n    },\n  };\n\n  function addressToLatLng(address, apiKey = DEFAULTS.apiKey) {\n    const encodedAddress = encodeURIComponent(address);\n    const url = `${geocodingUrl}?address=${encodedAddress}&key=${apiKey}`;\n    // Get url and safely get properties\n    return fetch(url)\n      .then(r => r.json())\n      .then(get('results[0].geometry.location'));\n  }\n\n  /**\n   * @method createBounds\n   * @return {Object} - map bounds\n   */\n  function createBounds() {\n    return new google.maps.LatLngBounds();\n  }\n\n  /**\n   * @param {HTMLElement} mapContainer\n   * @param {Object} options\n   * @return map\n   */\n  function createMap(mapContainer, options = {}) {\n    const mapOptions = Object.assign({}, DEFAULTS.mapOptions, options);\n    const map = new google.maps.Map(mapContainer, mapOptions);\n    return map;\n  }\n\n  function createPosition(lat, lng) {\n    return new google.maps.LatLng(lat, lng);\n  }\n\n  function createMarker(map, config) {\n    assert(config, 'No marker configuration provided');\n    assert(config.lat && config.lng, 'No marker position provided');\n    const position = createPosition(config.lat, config.lng);\n    const markerConfig = Object.assign({}, config, { position, map });\n    const marker = new google.maps.Marker(markerConfig);\n    return marker;\n  }\n\n  return {\n    addressToLatLng,\n    createBounds,\n    createMap,\n    createPosition,\n    createMarker,\n  };\n}\n","/* globals google */\nimport assert from 'fl-assert';\nimport GMap from './GMap';\n\nfunction withoutIndex(array, index) {\n  return array.slice(0, index).concat(array.slice(index + 1, array.length));\n}\n\nfunction easeInOutQuad(t) {\n  return t < 0.5 ? 2 * t * t : - 1 + (4 - 2 * t) * t;\n}\n\nfunction easeInOutCoord(frame, totalFrames, fromCoord, toCoord) {\n  const animPercentage = totalFrames ? frame / totalFrames : 1;\n  return {\n    lat: easeInOutQuad(animPercentage) * (toCoord.lat - fromCoord.lat) + fromCoord.lat,\n    lng: easeInOutQuad(animPercentage) * (toCoord.lng - fromCoord.lng) + fromCoord.lng,\n  };\n}\n\nexport default class MapDriver {\n  constructor(google, mapContainerSelector, options) {\n    assert(google, 'Google Maps not loaded.');\n    const mapContainer = document.querySelector(mapContainerSelector);\n    const containerIsValid = mapContainer && mapContainer.nodeName;\n    assert(containerIsValid, `Invalid map container from selector: ${mapContainerSelector}`);\n\n    this.gmap = new GMap(google);\n    this.map = this.gmap.createMap(mapContainer, options);\n    this.markers = [];\n    Object.preventExtensions(this);\n  }\n\n  /**\n   * Adds a marker to this.markers list\n   * @private\n   * @method addMarker\n   * @param {Marker}\n   */\n  addMarker(marker) {\n    this.markers = this.markers.concat([marker]);\n    return this;\n  }\n\n  /**\n   * Returns all markers currently in the map\n   * @public\n   * @return {Array<Marker>}\n   */\n  getMarkers() {\n    return Array.from(this.markers);\n  }\n\n  /**\n   * Creates a map marker\n   * @public\n   * @param {Object} config - Must have 'lat' and lng'\n   * @return {Marker}\n   */\n  createMarker(config) {\n    const marker = this.gmap.createMarker(this.map, config);\n    this.addMarker(marker);\n    return marker;\n  }\n\n  /**\n   * Animates a marker to a specific coordinate\n   * @public\n   * @param {Marker} marker\n   * @param {Object} destination - 'lat' and 'lng'\n   * @param {Int} duration - In milliseconds\n   */\n  moveMarker(marker, destination, duration = 1000) {\n    const toCoord = destination;\n    const fromCoord = {\n      lat: marker.getPosition().lat(),\n      lng: marker.getPosition().lng(),\n    };\n\n    const slideMarker = (frameNo, totalFrames) => {\n      const currentCoord = easeInOutCoord(frameNo, totalFrames, fromCoord, toCoord);\n      const pos = this.gmap.createPosition(currentCoord);\n      marker.setPosition(pos);\n\n      if (frameNo < totalFrames) {\n        requestAnimationFrame(() => slideMarker(frameNo + 1, totalFrames));\n      }\n    };\n    const durationInFrames = duration * 0.060;\n    console.log(durationInFrames);\n    slideMarker(0, durationInFrames);\n    return this;\n  }\n\n  /**\n   * Removes a marker from the map.\n   * @public\n   * @param {Marker} marker\n   */\n  destroyMarker(marker) {\n    const mIndex = this.markers.indexOf(marker);\n    assert(mIndex !== -1, 'Attempting to destroy a marker that is not in the map.');\n    this.markers = withoutIndex(this.markers, mIndex);\n    marker.setMap(null);\n    return this;\n  }\n\n  /**\n   * Fits map's focus on specified markers\n   * @public\n   * @param {Array<Marker}\n   */\n  focusMarkers(markers) {\n    const bounds = this.gmap.createBounds();\n    markers.forEach(m => bounds.extend(m.getPosition()));\n    this.map.fitBounds(bounds);\n  }\n\n  /**\n   * Converts an array into an object with 'lat' and 'lng'\n   * @public\n   * @param {String} address\n   * @return {Object}\n   */\n  async toLatLng(address) {\n    return this.gmap.addressToLatLng(address);\n  }\n}\n"],"names":["geocodingUrl","GMap","google","DEFAULTS","lat","lng","maps","MapTypeId","ROADMAP","addressToLatLng","address","apiKey","encodedAddress","encodeURIComponent","url","fetch","then","r","json","get","createBounds","LatLngBounds","createMap","mapContainer","options","mapOptions","Object","assign","map","Map","createPosition","LatLng","createMarker","config","position","markerConfig","marker","Marker","withoutIndex","array","index","slice","concat","length","easeInOutQuad","t","easeInOutCoord","frame","totalFrames","fromCoord","toCoord","animPercentage","MapDriver","mapContainerSelector","document","querySelector","containerIsValid","nodeName","gmap","markers","preventExtensions","Array","from","addMarker","destination","duration","getPosition","slideMarker","frameNo","currentCoord","pos","setPosition","durationInFrames","log","mIndex","indexOf","setMap","bounds","forEach","m","extend","fitBounds"],"mappings":";;;;;;AAAA;;;;;;;;;;;AAWA,SAAS,gBAAgB,CAAC,SAAS,EAAE,YAAY,EAAE;EACjD,IAAI,CAAC,SAAS,EAAE;IACd,IAAI,oBAAoB,GAAG,EAAE,CAAC;IAC9B,IAAI,EAAE,GAAG,kBAAkB,CAAC;IAC5B,IAAI,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC,KAAK,CAAC;IACnC,IAAI,cAAc,GAAG,EAAE,CAAC;;IAExB,IAAI,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACnC,OAAO,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;MAC9B,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAChC;;;;;IAKD,IAAI,cAAc,CAAC,CAAC,CAAC,EAAE;MACrB,oBAAoB,GAAG,cAAc,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,oBAAoB,CAAC;KACxE;;IAED,oBAAoB,IAAI,YAAY,CAAC;IACrC,OAAO,oBAAoB,CAAC;GAC7B;;EAED,OAAO,IAAI,CAAC;CACb;;;;;;;;;;;;AAYD,SAAS,MAAM,CAAC,SAAS,EAAE,YAAY,EAAE;EACvC,IAAI,KAAK,GAAG,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;EACtD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;GACxB;CACF;;;;;;;;;;;;AAYD,MAAM,CAAC,IAAI,GAAG,SAAS,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE;EACnD,IAAI,KAAK,GAAG,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;EACtD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;GACrB;CACF,CAAC,AAEF,AAAsB,AACtB;;ACzEA;AACA,AACA,AACA,MAAMA,eAAe,mDAArB;;AAEA,AAAe,SAASC,IAAT,CAAcC,MAAd,EAAsB;QAC7BC,WAAW;YACP,yCADO;gBAEH;cACF,EAAEC,KAAK,SAAP,EAAkBC,KAAK,CAAC,QAAxB,EADE;iBAECH,OAAOI,IAAP,CAAYC,SAAZ,CAAsBC,OAFvB;YAGJ,EAHI;mBAIG,KAJH;eAKD;;GAPb;;WAWSC,eAAT,CAAyBC,OAAzB,EAAkCC,SAASR,SAASQ,MAApD,EAA4D;UACpDC,iBAAiBC,mBAAmBH,OAAnB,CAAvB;UACMI,MAAO,IAAEd,YAAa,cAAWY,cAAe,UAAOD,MAAO,GAApE;;WAEOI,MAAMD,GAAN,EACJE,IADI,CACCC,KAAKA,EAAEC,IAAF,EADN,EAEJF,IAFI,CAECG,cAAI,8BAAJ,CAFD,CAAP;;;;;;;WASOC,YAAT,GAAwB;WACf,IAAIlB,OAAOI,IAAP,CAAYe,YAAhB,EAAP;;;;;;;;WAQOC,SAAT,CAAmBC,YAAnB,EAAiCC,UAAU,EAA3C,EAA+C;UACvCC,aAAaC,OAAOC,MAAP,CAAc,EAAd,EAAkBxB,SAASsB,UAA3B,EAAuCD,OAAvC,CAAnB;UACMI,MAAM,IAAI1B,OAAOI,IAAP,CAAYuB,GAAhB,CAAoBN,YAApB,EAAkCE,UAAlC,CAAZ;WACOG,GAAP;;;WAGOE,cAAT,CAAwB1B,GAAxB,EAA6BC,GAA7B,EAAkC;WACzB,IAAIH,OAAOI,IAAP,CAAYyB,MAAhB,CAAuB3B,GAAvB,EAA4BC,GAA5B,CAAP;;;WAGO2B,YAAT,CAAsBJ,GAAtB,EAA2BK,MAA3B,EAAmC;WAC1BA,MAAP,EAAe,kCAAf;WACOA,OAAO7B,GAAP,IAAc6B,OAAO5B,GAA5B,EAAiC,6BAAjC;UACM6B,WAAWJ,eAAeG,OAAO7B,GAAtB,EAA2B6B,OAAO5B,GAAlC,CAAjB;UACM8B,eAAeT,OAAOC,MAAP,CAAc,EAAd,EAAkBM,MAAlB,EAA0B,EAAEC,QAAF,EAAYN,GAAZ,EAA1B,CAArB;UACMQ,SAAS,IAAIlC,OAAOI,IAAP,CAAY+B,MAAhB,CAAuBF,YAAvB,CAAf;WACOC,MAAP;;;SAGK;mBAAA;gBAAA;aAAA;kBAAA;;GAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DF;AACA,AACA,AAEA,SAASE,YAAT,CAAsBC,KAAtB,EAA6BC,KAA7B,EAAoC;SAC3BD,MAAME,KAAN,CAAY,CAAZ,EAAeD,KAAf,EAAsBE,MAAtB,CAA6BH,MAAME,KAAN,CAAYD,QAAQ,CAApB,EAAuBD,MAAMI,MAA7B,CAA7B,CAAP;;;AAGF,SAASC,aAAT,CAAuBC,CAAvB,EAA0B;SACjBA,IAAI,GAAJ,GAAU,IAAIA,CAAJ,GAAQA,CAAlB,GAAsB,CAAE,CAAF,GAAM,CAAC,IAAI,IAAIA,CAAT,IAAcA,CAAjD;;;AAGF,SAASC,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,SAA5C,EAAuDC,OAAvD,EAAgE;QACxDC,iBAAiBH,cAAcD,QAAQC,WAAtB,GAAoC,CAA3D;SACO;SACAJ,cAAcO,cAAd,KAAiCD,QAAQ9C,GAAR,GAAc6C,UAAU7C,GAAzD,IAAgE6C,UAAU7C,GAD1E;SAEAwC,cAAcO,cAAd,KAAiCD,QAAQ7C,GAAR,GAAc4C,UAAU5C,GAAzD,IAAgE4C,UAAU5C;GAFjF;;;AAMF,AAAe,MAAM+C,SAAN,CAAgB;cACjBlD,MAAZ,EAAoBmD,oBAApB,EAA0C7B,OAA1C,EAAmD;WAC1CtB,MAAP,EAAe,yBAAf;UACMqB,eAAe+B,SAASC,aAAT,CAAuBF,oBAAvB,CAArB;UACMG,mBAAmBjC,gBAAgBA,aAAakC,QAAtD;WACOD,gBAAP,EAA0B,yCAAuCH,oBAAqB,GAAtF;;SAEKK,IAAL,GAAY,IAAIzD,IAAJ,CAASC,MAAT,CAAZ;SACK0B,GAAL,GAAW,KAAK8B,IAAL,CAAUpC,SAAV,CAAoBC,YAApB,EAAkCC,OAAlC,CAAX;SACKmC,OAAL,GAAe,EAAf;WACOC,iBAAP,CAAyB,IAAzB;;;;;;;;;YASQxB,MAAV,EAAkB;SACXuB,OAAL,GAAe,KAAKA,OAAL,CAAajB,MAAb,CAAoB,CAACN,MAAD,CAApB,CAAf;WACO,IAAP;;;;;;;;eAQW;WACJyB,MAAMC,IAAN,CAAW,KAAKH,OAAhB,CAAP;;;;;;;;;eASW1B,MAAb,EAAqB;UACbG,SAAS,KAAKsB,IAAL,CAAU1B,YAAV,CAAuB,KAAKJ,GAA5B,EAAiCK,MAAjC,CAAf;SACK8B,SAAL,CAAe3B,MAAf;WACOA,MAAP;;;;;;;;;;aAUSA,MAAX,EAAmB4B,WAAnB,EAAgCC,WAAW,IAA3C,EAAiD;UACzCf,UAAUc,WAAhB;UACMf,YAAY;WACXb,OAAO8B,WAAP,GAAqB9D,GAArB,EADW;WAEXgC,OAAO8B,WAAP,GAAqB7D,GAArB;KAFP;;UAKM8D,cAAc,CAACC,OAAD,EAAUpB,WAAV,KAA0B;YACtCqB,eAAevB,eAAesB,OAAf,EAAwBpB,WAAxB,EAAqCC,SAArC,EAAgDC,OAAhD,CAArB;YACMoB,MAAM,KAAKZ,IAAL,CAAU5B,cAAV,CAAyBuC,YAAzB,CAAZ;aACOE,WAAP,CAAmBD,GAAnB;;UAEIF,UAAUpB,WAAd,EAA2B;8BACH,MAAMmB,YAAYC,UAAU,CAAtB,EAAyBpB,WAAzB,CAA5B;;KANJ;UASMwB,mBAAmBP,WAAW,KAApC;YACQQ,GAAR,CAAYD,gBAAZ;gBACY,CAAZ,EAAeA,gBAAf;WACO,IAAP;;;;;;;;gBAQYpC,MAAd,EAAsB;UACdsC,SAAS,KAAKf,OAAL,CAAagB,OAAb,CAAqBvC,MAArB,CAAf;WACOsC,WAAW,CAAC,CAAnB,EAAsB,wDAAtB;SACKf,OAAL,GAAerB,aAAa,KAAKqB,OAAlB,EAA2Be,MAA3B,CAAf;WACOE,MAAP,CAAc,IAAd;WACO,IAAP;;;;;;;;eAQWjB,OAAb,EAAsB;UACdkB,SAAS,KAAKnB,IAAL,CAAUtC,YAAV,EAAf;YACQ0D,OAAR,CAAgBC,KAAKF,OAAOG,MAAP,CAAcD,EAAEb,WAAF,EAAd,CAArB;SACKtC,GAAL,CAASqD,SAAT,CAAmBJ,MAAnB;;;;;;;;;UASF,CAAenE,OAAf,EAAwB;;;;aACf,MAAKgD,IAAL,CAAUjD,eAAV,CAA0BC,OAA1B,CAAP;;;;;;;","sourceRoot":"/source/"}